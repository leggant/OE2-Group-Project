sudo useradd -d /home/manager -m -s /bin/bash manager
sudo passwd manager
sudo usermod -aG sudo manager
clear
exit
ls
sudo vim /etc/hosts
exit
sudo vim /etc/hosts
[9:00 am] Mohammed Alhasan (1000074297)
cp ~/.bashrc ~/.bashrc.bak
sudo vim /etc/hosts
sudo hostnamectl set-hostname app-b.foo.org.nz
hostname
sudo vim ~/.bashrc
exit
hostname
ping app-b.foo.org.nz
sudo vim /etc/hosts
exit
sudo vim etc/hosts
sudo vim /etc/hosts
ifconfig
:q
sudo cat /etc/hosts
hostname
exit
ip a
exit
sudo apt autoremove puppet
cd /etc
ls
sudo rm -r puppet
cd ..
cd ~
sudo vi /etc/hosts
sudo apt-get install puppet
sudo vi /etc/puppet/puppet.conf
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo rm -rf /var/lib/puppet/ssl
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo puppet cert --sign mgmt-b.foo.org.nz
sudo puppet cert --sign --all
sudo service puppet restart
sudo service puppet status
sudo vi /etc/hosts
ping mgmt-b.foo.org.nz
sudo service puppet status
sudo puppet cert --sign --all
sudo service puppet status
sudo rm -rf /var/lib/puppet/ssl
sudo service puppet restart
sudo service puppet status
sudo puppet cert --sign -all
sudo service puppet status
sudo service puppet restart
sudo service puppet status
sudo apt remove vim
exit
sudo apt remove vim
exit
sudo apt remove vim
sudo service puppet restart
exit
sudo apt remove vim
exit
sudo apt remove vim
sudo vi /etc/puppet/puppet.conf
sudo vi /rtc/hosts
sudo vi /etc/hosts
sudo apt remove vim
sudo puppet cert --sign -all
sudo service puppet status
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo service puppet status
sudo service puppet restart
exit
sudo apt remove vim
sudo puppet ca destroy mgmt-b.foo.org.nz
sudo rm -rf /var/lib/puppet/ssl
sudo puppet cert clean -all
sudo service puppet restart
sudo service puppet status
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo -i
sudo service puppet status
sudo rm -rf /var/lib/puppet/ssl
sudo service puppet restart
sudo rm -rf /var/lib/puppet/ssl
sudo service puppet restart
sudo service puppet status
sudo rm \var\lib\puppet\ssl\certs\app-b.foo.org.nz.pem
sudo rm /var/lib/puppet/ssl/certs/app-b.foo.org.nz.pem
sudo apt autoremove puppet
sudo rm -rf /var/lib/puppet/ssl
sudo puppet cert clean -all 
cd /etc
ls
sudo rm -r puppet
cd ~
sudo apt-get install puppet
sudo vi /etc/puppet/puppet.conf
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo puppet cert --sign -all
sudo systemctl restart puppet
sudo apt remove vim
exit
sudo apt remove vim
exit
sudo apt remove vim
exit
sudo apt remove vim
sudo apt autoremove vim
exit
sudo apt autoremove vim
sudo systemctl restart puppet
sudo sudo service puppet status
sudo apt autoremove vim
sudo service puppet status
date
sudo service puppet status
top
sudo service ntp status
sudo service ntpd status
sudo service ntp status
sudo vi /etc/hosts
sudo service ntp status
sudo service ntp restart
sudo service ntp status
data
date
sudo service ntp restart
sudo service ntp status
date
ntpq -p
date
ntpq -p
sudo service ntp restart
ntpq -p
date
ntpq -p
sudo service ntp restart
ntpq -p
sudo service ntp status
sudo service ntp restart
sudo service puppet status
sudo service ntp status
date
restart
reload
sudo reboot
date
ntptime
sudo service ntp status
sudo service puppet status
sudo systemctl status puppet
sudo service puppet start
sudo service puppet status
sudo systemctl status puppet
ntptime
sudo systemctl status puppet
git clone https://github.com/leggant/OE2-Group-Project.git
curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null
sudo apt update
sudo apt install gh
gh auth login
ls
cd O
cd OE2-Group-Project/
ls
mv PuppetMaster/ Mgmt-VM
ls
ls Mgmt-VM/
ls
mkdir App-VM
cd App-VM/
sudo cp /etc/hosts .
la
ls
cd ..
ls
git add Mgmt-VM/
git status
git commit -m "Edited Puppetmaster directory name"
git config --global user.name "Anthony Legg"
git config --global user.email leggtc1@student.op.ac.nz
git commit --amend --reset-author
git push
git status
git add/rm .
git rm .
git add .
git status
git commit -m "add App VM Hosts" -m "removed old PuppetMaster Directory" -m "Ant"
git push
ls -al
cd ..
ls -al
sudo cp .bash_history OE2-Group-Project/App-VM/bash_history_14_03_2022.txt
cat OE2-Group-Project/App-VM/bash_history_14_03_2022.txt 
sudo cat OE2-Group-Project/App-VM/bash_history_14_03_2022.txt 
history -w
git clone https://github.com/leggant/OE2-Group-Project.git
curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | sudo dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | sudo tee /etc/apt/sources.list.d/github-cli.list > /dev/null
sudo apt update
sudo apt install gh
gh auth login
ls
cd O
cd OE2-Group-Project/
ls
mv PuppetMaster/ Mgmt-VM
ls
ls Mgmt-VM/
ls
mkdir App-VM
cd App-VM/
sudo cp /etc/hosts .
la
ls
cd ..
ls
git add Mgmt-VM/
git status
git commit -m "Edited Puppetmaster directory name"
git config --global user.name "Anthony Legg"
git config --global user.email leggtc1@student.op.ac.nz
git commit --amend --reset-author
git push
git status
git add/rm .
git rm .
git add .
git status
git commit -m "add App VM Hosts" -m "removed old PuppetMaster Directory" -m "Ant"
git push
ls -al
cd ..
ls -al
sudo cp .bash_history OE2-Group-Project/App-VM/bash_history_14_03_2022.txt
cat OE2-Group-Project/App-VM/bash_history_14_03_2022.txt 
sudo cat OE2-Group-Project/App-VM/bash_history_14_03_2022.txt 
history -w
sudo cp .bash_history OE2-Group-Project/App-VM/bash_history_14_03_2022.txt
sudo cat OE2-Group-Project/App-VM/bash_history_14_03_2022.txt 
cd OE2-Group-Project/App-VM/
ls
vm bash_history_14_03_2022.txt bash_history.txt
mv bash_history_14_03_2022.txt bash_history.txt
ls
sudo vi ~./bashrc
sudo vi ~./.bashrc
sudo vi ~./.bash_rc
sudo vi ~/.bash_rc
sudo vi ~/.bashrc
source source ~/.bashrc
source ~/.bashrc
sudo vi ~/.bashrc
cphis
sudo vi ~/.bashrc
source ~/.bash_aliases
sudo vi ~/.bashrc
ls
cp ~/.bash_rc .
cp ~/.bashrc .
ls
ls -al
mv .bashrc bashrc.txt
ls
mv hosts hosts.txt
ls
cd ..
ls
git add .
git add . -f
cd App-VM/
ls -al
sudo chmod ug+r
sudo chmod u+r
sudo chmod ug+r bash_history.txt 
ls -al
sudo chmod 444 bash_history.txt 
ls -al
sudo chmod 644 bash_history.txt 
ls -al
cd ..
git add .
git status
git commit -m "add file ext to hosts" -m "made backup of history and bashrc files" -m "Ant"
git push
sudo systemctl status puppet
sudo service puppet restart
sudo systemctl status puppet
cd OE2-Group-Project && git pull
sudo reboot
sudo vi ~/.bashrc
source ~/.bashrc
buapp
sudo vi ~/.bashrc
source ~/.bashrc
buapp
git add .
git commit -m "app: backup alias app vm" -m "alias and backup run on the app vm" -m "app-b vm"
git push
exit
cd OE2-Group-Project && git pull
exit
sudo vi ~/.bashrc
source ~/.bashrc
statpup
respup
statpup
buapp
sudo vi ~/.bashrc
source ~/.bashrc
statpup
respup
statpup
buapp
git add .
git commit -m "app: new aliases added" -m "puppet service also down. new aliases for common task completion" -m "app-b vm"
git push
exit
statpup
exit
statpup
sudo reboot
statpup
respup
statpup
exit
statpup
exit
statpup
exit
cd ~/OE2-Group-Project && git pull
cd ~
sudo vi ~/.bashrc
source ~/.bashrc
buapp
cd ~/OE2-Group-Project && git pull
cd ~
sudo vi ~/.bashrc
source ~/.bashrc
buapp
git add .
git commit -m "app: nagios install backup" -m "app-b vm"
git push
exit
cd ~/OE2-Group-Project && git pull
buapp
cd ~/OE2-Group-Project && git pull
buapp
exit
sudo vi ~/.bashrc
source ~/.bashrc
buapp
sudo mv /App-VM/bashrc.txt /App-VM/bashrc
ls
cd App-VM/
ls
mv bashrc.txt bashrc
ls
mv hosts.txt hosts
ls
sudo vi ~/.bashrc
source ~/.bashrc
buapp
sudo vi ~/.bashrc
source ~/.bashrc
buapp
sudo mv /App-VM/bashrc.txt /App-VM/bashrc
ls
cd App-VM/
ls
mv bashrc.txt bashrc
ls
mv hosts.txt hosts
ls
sudo vi ~/.bashrc
source ~/.bashrc
buapp
ls
git add .
git commit -m "app: backup nagios install files"
git push
exit
statpup
respup
statpup
statpup:q
statpup
sudo systemctl status nagios-nrpe-server
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
sudo systemctl start nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
sudo systemctl restart nagios-nrpe-server
repup
respup
sudo nano /etc/default/puppet
cd /etc/default/
ls
exit
statpup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
sudo service puppet stop
sudo service puppet status
sudo service puppet start
sudo service puppet status
respup
sudo service puppet status
statpup
cd /etc/puppet/
ls
cd /etc/default
ls
cd ~
puppet resource service puppet ensure=running enable=true
respup
statpup
sudo -i
sudo systemctl disable mask puppet
respup
statpup
puppet resource service puppet ensure=running enable=true
sudo puppet resource service puppet ensure=running enable=true
sudo systemctl stop puppet
statpup
respup
sudo systemctl stop puppet
statpup
sudo systemctl stop puppet
statpup
exit
statpup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
resmas
respup
statpup
sudo systemctl stop puppet
statpup
exit
statpup
respup
statpup
sudo service stop puppet
systemctl list-units --type=service | grep puppet
sudo service stop puppet.service
sudo service puppet.service stop
sudo service puppet stop
sudo service puppet status
exit
statpup
sudo systemctl stop puppetsystemctl 
systemctl 
sudo service puppet status
sudo service puppet start
sudo service puppet status
sudo service puppet stop
sudo service puppet status
sudo service puppet start
sudo service puppet status
respup
statpup
sudo puppet agent --disable
statpup
sudo puppet agent --disable "test mgmt restart"
statpup
sudo systemctl stop puppet
statpup
sudo puppet agent --disable "test mgmt restart"
statpup
respup
sudo puppet agent --stop
sudo puppet agent --disable "test mgmt restart"
statpup
sudo puppet agent --disable "test mgmt restart"
statpup
sudo systemctl stop puppet
sudo puppet agent --disable "test mgmt restart"
statpup
exit
sudo puppet agent
statpup
sudo puppet agent --enable
statpup
respup
statpup
sudo systemctl disable puppet
statpup
sudo systemctl disable puppet
statpup
sudo systemctl stop puppet
statpup
sudo systemctl start puppet
statpup
sudo systemctl stop puppet
statpup
sudo systemctl start puppet
sudo service puppet stop
statpup
respup
statpup
sudo reboot
statpup
statmas
statpup
respup
statpup
resmas
respup
statpup
sudo reboot
statpup
respup
statpup
sudo reboot
statpup
buapp
buapp
exit
buapp
buapp
respup
statpup
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
respup
sudo systemctl status nagios-nrpe-server
respup
statpup
sudo systemctl status nagios-nrpe-server
cd /etc/nagios
sudo nanon nrpe.cfg 
sudo nano nrpe.cfg 
respup
cd /etc/nagios
sudo nano nrpe.cfg 
sudo systemctl status nagios-nrpe-server
respup
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
respup
statpup
sudo systemctl status nagios-nrpe-server
statpup
/usr/lib/nagios/plugins/check_disk -w 10% -c 99% -p /dev/sda1
sudo systemctl restart nagios-nrpe-server
sudo systemctl restart puppet
ls
sudo vi nrpe.cfg 
sudo systemctl restart puppet
sudo vi nrpe.cfg 
sudo systemctl restart nagios-nrpe-server
sudo vi nrpe.cfg 
respup
statpup
sudo vi nrpe.cfg 
respup
sudo vi nrpe.cfg 
exit
sudo vi nrpe.cfg 
sudo systemctl restart nagios-nrpe-server
cd /etc/nagios
ls
sudo vi nrpe.cfg 
respup
sudo vi nrpe.cfg 
ls -al
respup
ls -al
sudo systemctl restart nagios-nrpe-server
ls -al
sudo systemctl restart nagios-nrpe-server
respup
sudo systemctl restart nagios-nrpe-server
ls -al
respup
sudo systemctl restart nagios-nrpe-server
ls -al
respup
ls -al
respup
sudo vi nrpe.cfg 
sudo reboot
sudo vi nrpe.cfg 
cd /etc/nagios
ls
ls -al
sudo vi nrpe.cfg 
sudo systemctl restart nagios-nrpe-server
respup
sudo vi nrpe.cfg 
sudo rm nrpe.cfg
respup
ls -al
statpup
ls -al
respup
statpup
ls -al
respup
statpup
ls -al
respup
statpup
ls -al
stop nag
sudo systemctl stop nagios3
sudo systemctl stop nagios
ls -al
sudo systemctl stop nagios-nrpe-server
sudo systemctl start nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
sudo nagios3 -v /etc/nagios3/nagios.cfg
ls -al
sudo systemctl restart nagios-nrpe-server
respup
ls -al
sudo systemctl restart nagios-nrpe-server
ls -al
sudo systemctl restart nagios-nrpe-server
ls -al
respup
ls -al
respup
ls -al
respup
sudo systemctl restart nagios-nrpe-server
ls -al
logout
ls -al
cd /etc/
ls
cd nagios-plugins/
ls
cd config/
ls
sudo nano check_nrpe.cfg 
cd ../..
ls
cd /nagios
ls
cd nagios
;s
ls
sudo vi nrpe.cfg 
ls
cd /etc/nagios
ls
respup
sudo systemctl status puppet
ls
sudo systemctl status puppet
respup
sudo systemctl status puppet
ls
res
respup
ls
cd ..
ls
cd nagios
ls
vim nrpe_local.cfg 
ls
respup
ls
statpup
respup
statpup
cd /etc/nagios
ls
sudo touch nrpe.cfg
respup
statpup
ls
sudo nanp nrpe.cfg 
sudo nano nrpe.cfg 
ls -al
res nrpe
res nagios
respup
statpup
sudo vi ~/.bashrc
sr
resnr
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
respup
sudo systemctl status nagios-nrpe-server
cd /etc/nagios
sudo nano nrpe.cfg 
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
ls
ls -al
respup
statpup
ls -al
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
ls -al
exit
sudo systemctl status nagios-nrpe-server
cd /etc/nagios
ls
sudo nano nrpe.cfg 
sudo systemctl status nagios-nrpe-server
puppet agent --test puppet agent --test 
puppet agent --test 
sudo -i
respup
agentupdate
puppet agent --test 
exit
sudo puppet cert --list --all
sudo puppet cert sign  --all
sudo puppet cert --sign --all
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo puppet cert --sign --all
sudo puppet agent --server=mgmt-x.foo.org.nz --no-daemonize --verbose --onetime
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
clear
sudo puppet cert –sign –all
sudo puppet cert -–sign –all
sudo puppet cert --sign –all
sudo puppet cert -sign -–all
sudo puppet cert -sign --all
sudo puppet cert --sign --all
sudo puppet cert list -all
sudo puppet cert --sign -all
sudo -i
respup
sudo puppet cert --sign -all
respup
statpup
sudo -i
respup
sudo puppet cert --sign -all
respup
statpup
respup
statpup
ls
cd /etc/nagios
ls
vim nrpe.cfg 
respup
ls
vim nrpe.cfg 
:q
ls
cd ..
ls
cd nagios
ls
sudo vim nrpe
sudo vim nrpe.cfg 
ls
cd ..
ls
cd nagios
ls
vim nrpe
vim nrpe.cfg 
ls
respup
vim nrpe.cfg 
cd ..
ls
cd nagios
ls
vim nrpe.cfg 
respup 
ls
vim nrpe.cfg 
site
ls
respup
ls
cd ..
ls
cd nagios
ls
cd ..
ls
respup 
ls
respup
ls
cd nagios
l
ls
cd nrpe.d/
ls
cd ..
ls
cd ..
respup
ls
cd nagios
ls
respup
ls
cd ..
ls
cd nagios-plugins/
ls
cd config/
ls
statpup
sudo puppet sign -all
sudo puppet cert sign -all
statpup
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo puppet cert clean -all
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
statpup
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
puppet cert sign -all
statpup
respup
statpup
statnr
cd ~/OE2-Group-Project && git pull
buapp
statpup
sudo puppet sign -all
sudo puppet cert sign -all
statpup
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
sudo puppet cert clean -all
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
statpup
sudo puppet agent --server=mgmt-b.foo.org.nz --no-daemonize --verbose --onetime
puppet cert sign -all
statpup
respup
statpup
statnr
cd ~/OE2-Group-Project && git pull
buapp
cd /etc
ls
sudo vi ~/.bashrc
source ~/.bashrc
statnr
cd nagios/
ls
sudo nano nrpe.cfg 
statnr
resnr
statnr
statpup
puppet cert sign -all
statpup
respup
statpup
statnag
statnr
statnag
statpup
sudo -i
puppet agent -t
respup
puppet agent -t
sudo -i
respup
sudo puppet cert sign -all
nc -v puppet 8140
sudo systemctl status nagios-nrpe-server.service 
sudo -i
sudo puppet cert sign -all
respup
sudo vim /etc/puppet/puppet.conf
sudo systemctl restart nagios-nrpe-server
sudo systemctl status nagios-nrpe-server
cd /etc/nagios
ls
sudo vim nrpe.cfg 
respup
resnat
sudo systemctl restart nagios-nrpe-server.service 
sudo vim nrpe.cfg 
ls
cd ..
ls
mod
sudo vim nrpe.cfg 
ls
cd nagios
ls
sudo vim nrpe.cfg 
sudo systemctl restart nagios-nrpe-server.service 
respup
sudo systemctl restart nagios-nrpe-server.service 
vim /etc/puppet/puppet.conf
sudo vim /etc/puppet/puppet.conf
respup 
statpup
agent puppet -t
puppet agent -t
sudo puppet agent -t
puppet agent -t
ls
sudo vim /etc/puppet/puppet.conf
sudo puppet cert --sign -all
puppet agent -t
sudo vim /etc/puppet/puppet.conf
cd ..
ls
cd ..
ls
cd /home/
l
sudo -i
puppet agent -t
sudo puppet agent -t
date
sudo puppet agent -t
statpup
respup
statpup
buapp
statpup
respup
statpup
buapp
git add .
git commit -m "app-b: backup of app vm" -m "apps puppet service continues to error out" -m "app-b"
git push
git add .
statpup
exit
statpup
statpup:q
statpup
respup
statpup
respup
statpup
respup
statpup
ls
statpup
respup
statpup
respup
statpup
rrspup
respup
statpup
respup
statpup
respup
statpup
respup
statpup
cd /etc/puppet
ls
cd code/
ls
sudo touch .gitinclude
cd ~
buapp
cd /etc/puppet
ls
cd code/
ls
sudo touch .gitinclude
cd ~
buapp
git add .
git commit -m "app-b: updated app-b backup" -m "app-b"
git push
exit
cd ~/OE2-Group-Project/
cd Scripts/app
cd /Scripts/app
cd Scripts/
ls
cd ..
sudo git pull
cd Scripts/
cd app
ls -la
sudo chmod u+x backup.sh 
ls -la
cd ..
la -la
crontab -e
git pull
exit
cd ~/OE2-Group-Project/
cd Scripts/
cd app/
ls -la
sudo chgrp bitstudent backup.sh 
sudo chown bitstudent backup.sh 
ls -la
sudo chmod g+wx backup.sh 
ls -la
sudo chmod o+wx backup.sh 
ls -la
exit
statpup
statnr
statnag
exit
